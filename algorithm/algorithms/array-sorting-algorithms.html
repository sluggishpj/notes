<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数组排序算法 | Notes </title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/notes/logo.png">
    <link rel="manifest" href="/notes/manifest.json">
    <link rel="apple-touch-icon" href="/notes/icons/apple-touch-icon-152x152.png">
    <meta name="description" content="Just notes">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/notes/assets/css/0.styles.8fce5f84.css" as="style"><link rel="preload" href="/notes/assets/js/app.c8212756.js" as="script"><link rel="preload" href="/notes/assets/js/3.fbca6c51.js" as="script"><link rel="preload" href="/notes/assets/js/13.899ef175.js" as="script"><link rel="preload" href="/notes/assets/js/4.effe20ae.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.f2a5834c.js"><link rel="prefetch" href="/notes/assets/js/11.76c8bd84.js"><link rel="prefetch" href="/notes/assets/js/12.9c4142af.js"><link rel="prefetch" href="/notes/assets/js/14.f0722728.js"><link rel="prefetch" href="/notes/assets/js/15.309e33e1.js"><link rel="prefetch" href="/notes/assets/js/16.9ce188a1.js"><link rel="prefetch" href="/notes/assets/js/17.b37d438a.js"><link rel="prefetch" href="/notes/assets/js/18.704a5c60.js"><link rel="prefetch" href="/notes/assets/js/19.0d8c98ca.js"><link rel="prefetch" href="/notes/assets/js/20.19a3610c.js"><link rel="prefetch" href="/notes/assets/js/21.5e5d0ae6.js"><link rel="prefetch" href="/notes/assets/js/22.e1e55c6d.js"><link rel="prefetch" href="/notes/assets/js/23.0dc4d617.js"><link rel="prefetch" href="/notes/assets/js/24.c6a74495.js"><link rel="prefetch" href="/notes/assets/js/25.07f8593e.js"><link rel="prefetch" href="/notes/assets/js/26.b4469666.js"><link rel="prefetch" href="/notes/assets/js/27.e46b0039.js"><link rel="prefetch" href="/notes/assets/js/28.6113c6d1.js"><link rel="prefetch" href="/notes/assets/js/29.a81ad46c.js"><link rel="prefetch" href="/notes/assets/js/30.5cb682af.js"><link rel="prefetch" href="/notes/assets/js/31.05ef2e98.js"><link rel="prefetch" href="/notes/assets/js/32.a6bd12e3.js"><link rel="prefetch" href="/notes/assets/js/33.e0c9821c.js"><link rel="prefetch" href="/notes/assets/js/34.622ca4f8.js"><link rel="prefetch" href="/notes/assets/js/35.17e8167d.js"><link rel="prefetch" href="/notes/assets/js/36.54f1f596.js"><link rel="prefetch" href="/notes/assets/js/37.f5442713.js"><link rel="prefetch" href="/notes/assets/js/38.f19a25c0.js"><link rel="prefetch" href="/notes/assets/js/39.525d045c.js"><link rel="prefetch" href="/notes/assets/js/40.79a350aa.js"><link rel="prefetch" href="/notes/assets/js/41.2f19ab6f.js"><link rel="prefetch" href="/notes/assets/js/42.3ebfcf73.js"><link rel="prefetch" href="/notes/assets/js/43.58814ad8.js"><link rel="prefetch" href="/notes/assets/js/44.4d6a34cf.js"><link rel="prefetch" href="/notes/assets/js/45.7b9060b7.js"><link rel="prefetch" href="/notes/assets/js/46.120acc43.js"><link rel="prefetch" href="/notes/assets/js/47.588200c2.js"><link rel="prefetch" href="/notes/assets/js/48.bfa9ba75.js"><link rel="prefetch" href="/notes/assets/js/49.1a0cdaf8.js"><link rel="prefetch" href="/notes/assets/js/5.2a78c3b9.js"><link rel="prefetch" href="/notes/assets/js/50.57608915.js"><link rel="prefetch" href="/notes/assets/js/51.4c8c2e6c.js"><link rel="prefetch" href="/notes/assets/js/52.b622f16f.js"><link rel="prefetch" href="/notes/assets/js/53.cae70fb4.js"><link rel="prefetch" href="/notes/assets/js/54.aa17aab8.js"><link rel="prefetch" href="/notes/assets/js/55.54c9851d.js"><link rel="prefetch" href="/notes/assets/js/56.c67fe920.js"><link rel="prefetch" href="/notes/assets/js/57.7e2f1ec3.js"><link rel="prefetch" href="/notes/assets/js/58.ed2e4405.js"><link rel="prefetch" href="/notes/assets/js/59.f4831e77.js"><link rel="prefetch" href="/notes/assets/js/6.1b65c77a.js"><link rel="prefetch" href="/notes/assets/js/60.e7395f5b.js"><link rel="prefetch" href="/notes/assets/js/61.89164d53.js"><link rel="prefetch" href="/notes/assets/js/62.7bd3b736.js"><link rel="prefetch" href="/notes/assets/js/63.4dd403dd.js"><link rel="prefetch" href="/notes/assets/js/64.096943d7.js"><link rel="prefetch" href="/notes/assets/js/65.c9410bc5.js"><link rel="prefetch" href="/notes/assets/js/66.661c094e.js"><link rel="prefetch" href="/notes/assets/js/67.0f504fa3.js"><link rel="prefetch" href="/notes/assets/js/68.0a017d21.js"><link rel="prefetch" href="/notes/assets/js/69.66365094.js"><link rel="prefetch" href="/notes/assets/js/7.b9733943.js"><link rel="prefetch" href="/notes/assets/js/70.c0bf56c1.js"><link rel="prefetch" href="/notes/assets/js/71.a4f8bbe6.js"><link rel="prefetch" href="/notes/assets/js/72.21abfa82.js"><link rel="prefetch" href="/notes/assets/js/73.d911c3fd.js"><link rel="prefetch" href="/notes/assets/js/74.79fdb744.js"><link rel="prefetch" href="/notes/assets/js/75.de41958b.js"><link rel="prefetch" href="/notes/assets/js/76.c3f65d54.js"><link rel="prefetch" href="/notes/assets/js/77.f67ba0bf.js"><link rel="prefetch" href="/notes/assets/js/78.757e0066.js"><link rel="prefetch" href="/notes/assets/js/79.8765ba8e.js"><link rel="prefetch" href="/notes/assets/js/8.ec9df493.js"><link rel="prefetch" href="/notes/assets/js/80.baadb818.js"><link rel="prefetch" href="/notes/assets/js/81.e9f095c9.js"><link rel="prefetch" href="/notes/assets/js/82.bebb0618.js"><link rel="prefetch" href="/notes/assets/js/83.fbd739d7.js"><link rel="prefetch" href="/notes/assets/js/9.5a360f50.js"><link rel="prefetch" href="/notes/assets/js/vendors~docsearch.a920cc49.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.8fce5f84.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">Notes </span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法与数据结构" class="dropdown-title"><span class="title">算法与数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法与数据结构" class="mobile-dropdown-title"><span class="title">算法与数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/algorithm/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/notes/algorithm/algorithms/" class="nav-link router-link-active">
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/frontend/browser/" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/notes/frontend/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/notes/frontend/css/" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/backend/nodejs/" class="nav-link">
  Node.js
</a></li></ul></div></div> <a href="https://github.com/sluggishpj/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法与数据结构" class="dropdown-title"><span class="title">算法与数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法与数据结构" class="mobile-dropdown-title"><span class="title">算法与数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/algorithm/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/notes/algorithm/algorithms/" class="nav-link router-link-active">
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/frontend/browser/" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/notes/frontend/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/notes/frontend/css/" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/backend/nodejs/" class="nav-link">
  Node.js
</a></li></ul></div></div> <a href="https://github.com/sluggishpj/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>算法与数据结构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/algorithm/" aria-current="page" class="sidebar-link">前言</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/algorithm/algorithms/" aria-current="page" class="sidebar-link">说明</a></li><li><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html" aria-current="page" class="active sidebar-link">数组排序算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#冒泡排序" class="sidebar-link">冒泡排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#选择排序" class="sidebar-link">选择排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#插入排序" class="sidebar-link">插入排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#希尔排序" class="sidebar-link">希尔排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#归并排序" class="sidebar-link">归并排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#快速排序" class="sidebar-link">快速排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#堆排序" class="sidebar-link">堆排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#计数排序" class="sidebar-link">计数排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#桶排序" class="sidebar-link">桶排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#基数排序" class="sidebar-link">基数排序</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#timsort" class="sidebar-link">Timsort</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#时间-空间复杂度汇总" class="sidebar-link">时间&amp;空间复杂度汇总</a></li><li class="sidebar-sub-header"><a href="/notes/algorithm/algorithms/array-sorting-algorithms.html#ref" class="sidebar-link">REF</a></li></ul></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="各数组排序算法"><a href="#各数组排序算法" class="header-anchor">#</a> 各数组排序算法</h1> <p>为了方便理解，下面算法都只实现<strong>升序</strong>，降序的话把判断条件改改就行了:)</p> <h2 id="冒泡排序"><a href="#冒泡排序" class="header-anchor">#</a> 冒泡排序</h2> <p>原理：依次比较相邻的元素，如果不符合顺序则进行交换，保证每轮遍历时，都有一个元素在排序后的位置。</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/c/c8/Bubble-sort-example-300px.gif" alt="bubble sort"></p> <blockquote><p>图片来自 <a href="https://en.wikipedia.org/wiki/Bubble_sort" target="_blank" rel="noopener noreferrer">Bubble_sort | wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 冒泡排序
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">swapArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="选择排序"><a href="#选择排序" class="header-anchor">#</a> 选择排序</h2> <p>原理：每一次从待排序的数据元素中选出最小（或最大）的一个元素，与待排序序列的首元素交换。</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/9/94/Selection-Sort-Animation.gif" alt="selection Sort"></p> <blockquote><p>图片来自 <a href="https://en.wikipedia.org/wiki/Selection_sort" target="_blank" rel="noopener noreferrer">Selection_sort | wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 找到数组中最小项的下标</span>
<span class="token keyword">function</span> <span class="token function">findMinIdx</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> targetIdx <span class="token operator">=</span> begin
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> begin <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>targetIdx<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      targetIdx <span class="token operator">=</span> i
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> targetIdx
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 选择排序
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> end <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> minIdx <span class="token operator">=</span> <span class="token function">findMinIdx</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
    <span class="token function">swapArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> minIdx<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>不稳定：比如 <code>[5,5,2]</code>, 排序后第 1 个<code>5</code>跑到最后去了</p></blockquote> <h2 id="插入排序"><a href="#插入排序" class="header-anchor">#</a> 插入排序</h2> <p>原理: 通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/0/0f/Insertion-sort-example-300px.gif" alt="insertion sort"></p> <blockquote><p>图片来自 <a href="https://en.wikipedia.org/wiki/Insertion_sort" target="_blank" rel="noopener noreferrer">Insertion_sort | wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 插入排序
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">insertSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 要插入的是第i项</span>
    <span class="token keyword">const</span> val <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

    <span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 在 0-i-1 中从后往前依次比较，将大的交换到后面，直到合适的位置</span>
      arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      j<span class="token operator">--</span>
    <span class="token punctuation">}</span>

    arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> val
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="希尔排序"><a href="#希尔排序" class="header-anchor">#</a> 希尔排序</h2> <p>原理：是插入排序的一种更高效的改进版本，把数组按下标的一定增量分组，对每组使用直接插入排序算法排序；随着增量逐渐减少，每组包含元素的越来越多，当增量减至 1 时，整个数组被分成一组进行插入排序，完后算法便终止。</p> <p><img src="https://i.postimg.cc/tTrCytLZ/shell-Sort.gif" alt="shell sort"></p> <blockquote><p><a href="https://www.cs.usfca.edu/~galles/visualization/ComparisonSort.html" target="_blank" rel="noopener noreferrer">图片来源<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 通用插入排序
 * 将 arr[startIdx], arr[startIdx+k], arr[startIdx+2k]...arr[startIdx+nk] 这些项进行插入排序
 * 上方的插入排序 insertSort(arr) 就等同于 partialInsertSort(arr, 0, 1)
 * @param {Array} arr
 * @param {number} startIdx 开始位置
 * @param {number} k 步长
 */</span>
<span class="token keyword">function</span> <span class="token function">partialInsertSort</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> startIdx<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> lastIdx <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> startIdx <span class="token operator">+</span> k<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> lastIdx<span class="token punctuation">;</span> i <span class="token operator">+=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&gt;</span> startIdx<span class="token punctuation">;</span> j <span class="token operator">-=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 从后往前交换直到合适位置</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">-</span> k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">swapArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j <span class="token operator">-</span> k<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 希尔排序
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">shellSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
  <span class="token keyword">let</span> step <span class="token operator">=</span> len <span class="token operator">&gt;&gt;</span> <span class="token number">1</span> <span class="token comment">// 最初步长为len/2，对步长取半直到步长达到1</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>step <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> step<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">partialInsertSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    step <span class="token operator">&gt;&gt;=</span> <span class="token number">1</span> <span class="token comment">// 去半</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><blockquote><p>如果只用 1 个替换数组，来回反复替换有点饶，可以在 <code>mergeOrderArr</code> 函数内复制一份，然后直接修改原数组</p></blockquote> <h2 id="归并排序"><a href="#归并排序" class="header-anchor">#</a> 归并排序</h2> <p>原理：将数组分为两个部分，对两部分分别进行排序，排序完成后，再将各自排序好的两个部分合并还原成一个有序数组。</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/c/cc/Merge-sort-example-300px.gif" alt="merge sort"></p> <blockquote><p>图片来自 <a href="https://en.wikipedia.org/wiki/Merge_sort" target="_blank" rel="noopener noreferrer">Merge_sort | wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ul><li>合并数组中的两部分到新数组对应的位置，两部分各自有序，且相邻</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 合并数组中 有序的2部分到 目标数组中对应的位置
 * @param {Array} origin 有2部分有序的数组，其中 leftEnd+1===rightStart
 * @param {Array} targetArr 将上面2部分有序的数组合并到 targetArr 对应的位置
 * @param {number} leftStart 左有序数组开始位置
 * @param {number} leftEnd 左有序数组结束位置
 * @param {number} rightStart 右有序数组开始位置
 * @param {number} rightEnd 右有序数组结束位置
 */</span>
<span class="token keyword">function</span> <span class="token function">mergeOrderArr</span><span class="token punctuation">(</span><span class="token parameter">origin<span class="token punctuation">,</span> targetArr<span class="token punctuation">,</span> leftStart<span class="token punctuation">,</span> leftEnd<span class="token punctuation">,</span> rightStart<span class="token punctuation">,</span> rightEnd</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>leftStart <span class="token operator">&gt;=</span> rightEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> idx <span class="token operator">=</span> leftStart
  <span class="token keyword">while</span> <span class="token punctuation">(</span>leftStart <span class="token operator">&lt;=</span> leftEnd <span class="token operator">&amp;&amp;</span> rightStart <span class="token operator">&lt;=</span> rightEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>origin<span class="token punctuation">[</span>leftStart<span class="token punctuation">]</span> <span class="token operator">&lt;</span> origin<span class="token punctuation">[</span>rightStart<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      targetArr<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token operator">=</span> origin<span class="token punctuation">[</span>leftStart<span class="token punctuation">]</span>
      leftStart<span class="token operator">++</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      targetArr<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token operator">=</span> origin<span class="token punctuation">[</span>rightStart<span class="token punctuation">]</span>
      rightStart<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    idx<span class="token operator">++</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>leftStart <span class="token operator">&lt;=</span> leftEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    targetArr<span class="token punctuation">[</span>idx<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> origin<span class="token punctuation">[</span>leftStart<span class="token operator">++</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>rightStart <span class="token operator">&lt;=</span> rightEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    targetArr<span class="token punctuation">[</span>idx<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> origin<span class="token punctuation">[</span>rightStart<span class="token operator">++</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><ul><li>递归实现归并排序</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 归并排序-递归实现
 * 将 targetArr [left,...right] 部分进行归并排序，结果写入到 origin 中
 * @param {Array} origin 源数组
 * @param {Array} targetArr 原数组的复制版本
 * @param {number} left 开始位置
 * @param {number} right 结束位置
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mergeSortRecursion</span><span class="token punctuation">(</span><span class="token parameter">origin<span class="token punctuation">,</span> targetArr <span class="token operator">=</span> origin<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> origin<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
  <span class="token function">mergeSortRecursion</span><span class="token punctuation">(</span>targetArr<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>
  <span class="token function">mergeSortRecursion</span><span class="token punctuation">(</span>targetArr<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>
  <span class="token function">mergeOrderArr</span><span class="token punctuation">(</span>targetArr<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>循环实现归并排序</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 归并排序-循环实现
 * @param {Array} origin
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mergeSortIteration</span><span class="token punctuation">(</span><span class="token parameter">origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 思路：先两两合并，再4 4合并 直到一半一半合并</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>origin<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span>

  <span class="token keyword">let</span> step <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 合并的2个数组中每个数组的长度</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> origin<span class="token punctuation">.</span>length
  <span class="token keyword">const</span> lastIdx <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token keyword">const</span> midLen <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>len <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> cpArr <span class="token operator">=</span> origin<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// 计算需要合并几轮，也就是有多少个不同的 step</span>
  <span class="token keyword">let</span> stepCount <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>step <span class="token operator">&lt;</span> midLen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    step <span class="token operator">*=</span> <span class="token number">2</span>
    stepCount<span class="token operator">++</span>
  <span class="token punctuation">}</span>
  step <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>stepCount <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 奇数轮，则首轮需要 将 cpArr 合并 到 origin 中</span>
    <span class="token comment">// 因为每轮循环开始前会先交换，所以需要提前交换一次，保证奇数轮时首轮合并入的是 origin</span>
    <span class="token punctuation">;</span><span class="token punctuation">[</span>origin<span class="token punctuation">,</span> cpArr<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>cpArr<span class="token punctuation">,</span> origin<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> cnt <span class="token operator">&lt;</span> stepCount<span class="token punctuation">;</span> cnt<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">;</span><span class="token punctuation">[</span>origin<span class="token punctuation">,</span> cpArr<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>cpArr<span class="token punctuation">,</span> origin<span class="token punctuation">]</span> <span class="token comment">// 每轮交互2个数组，避免来回复制，就是有点费解</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token operator">*</span> step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> leftEnd <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>i <span class="token operator">+</span> step <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> lastIdx<span class="token punctuation">)</span>
      <span class="token keyword">const</span> rightStart <span class="token operator">=</span> leftEnd <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token keyword">const</span> rightEnd <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>rightStart <span class="token operator">+</span> step <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> lastIdx<span class="token punctuation">)</span>
      <span class="token function">mergeOrderArr</span><span class="token punctuation">(</span>cpArr<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> i<span class="token punctuation">,</span> leftEnd<span class="token punctuation">,</span> rightStart<span class="token punctuation">,</span> rightEnd<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    step <span class="token operator">*=</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><blockquote><p>这个有点饶，如果不考虑空间复杂度，函数返回个新数组，直接合并新数组会清晰很多</p></blockquote> <h2 id="快速排序"><a href="#快速排序" class="header-anchor">#</a> 快速排序</h2> <p><img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Sorting_quicksort_anim.gif" alt="quick sort"></p> <blockquote><p>图片来自 <a href="https://en.wikipedia.org/wiki/Quicksort" target="_blank" rel="noopener noreferrer">Quicksort | wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 返回第lo个元素pivot在 arr[lo,...hi] 中排序后的位置
 * 并且插入对应位置，且 数组前部分 &lt;= pivot &lt;= 数组后部分
 * @param {Array} arr
 * @param {number} lo 左下标
 * @param {number} hi 右下标
 * @returns {number}
 */</span>
<span class="token keyword">function</span> <span class="token function">partition</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">[</span>lo<span class="token punctuation">]</span>

  <span class="token keyword">let</span> i <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">let</span> j <span class="token operator">=</span> hi

  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      i<span class="token operator">++</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> i <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      j<span class="token operator">--</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">swapArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
      i<span class="token operator">++</span>
      j<span class="token operator">--</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">swapArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
  <span class="token keyword">return</span> j
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 快速排序-实际操作函数
 * @param {Array} arr
 */</span>
<span class="token keyword">function</span> <span class="token function">quickSortMain</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>lo <span class="token operator">&gt;=</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> pos <span class="token operator">=</span> <span class="token function">partition</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>
  <span class="token function">quickSortMain</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> pos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token function">quickSortMain</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> pos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 快速排序
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">shuffleArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// 先打乱数组，避免有序数组导致复杂度O(N^2)</span>
  <span class="token function">quickSortMain</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><blockquote><p>不稳定，比如 <code>[5,6,6,4]</code></p></blockquote> <h2 id="堆排序"><a href="#堆排序" class="header-anchor">#</a> 堆排序</h2> <p>思路：将数组构造成大顶堆，然后将堆顶和堆末尾交换，缩小堆的范围(把堆尾排除掉)，再调整成新的大顶堆，不断重复直到最后 1 个结束。</p> <p><img src="https://z3.ax1x.com/2021/09/26/46tLK1.gif" alt="heap sort"></p> <blockquote><p><a href="https://www.runoob.com/w3cnote/heap-sort.html" target="_blank" rel="noopener noreferrer">图片来源<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 将下标为i的元素下沉，调整成大顶堆
 * @param {Array} arr
 * @param {number} i 要下沉的元素下标
 * @param {number} len 堆大小
 * @returns
 */</span>
<span class="token keyword">function</span> <span class="token function">sink</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> len</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> leftChildIdx <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">const</span> rightChildIdx <span class="token operator">=</span> leftChildIdx <span class="token operator">+</span> <span class="token number">1</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>leftChildIdx <span class="token operator">&gt;=</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> maxChildIdx <span class="token operator">=</span> leftChildIdx

  <span class="token keyword">if</span> <span class="token punctuation">(</span>rightChildIdx <span class="token operator">&lt;</span> len <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>rightChildIdx<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>leftChildIdx<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    maxChildIdx <span class="token operator">=</span> rightChildIdx
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>maxChildIdx<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">swapArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> maxChildIdx<span class="token punctuation">)</span> <span class="token comment">// 把大的换上来</span>
    <span class="token function">sink</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> maxChildIdx<span class="token punctuation">,</span> len<span class="token punctuation">)</span> <span class="token comment">// 继续向下调整</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 堆排序
 * 原理：
 * 1. 将数组原地构造为大顶堆
 * 2. 将堆顶和堆尾交换，缩小堆大小，再调整成堆。
 * 3. 不断重复操作2, 直到堆大小为1
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">heapSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
  <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span>

  <span class="token comment">// step1. 将数组原地构造为大顶堆。</span>
  <span class="token comment">// 先调整倒数第2层，再倒数3层，不断向上调整直到第1个元素，就形成了大顶堆。</span>
  <span class="token keyword">let</span> endParentIdx <span class="token operator">=</span> <span class="token punctuation">(</span>len <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token comment">// 倒数第2层最右边的元素下标</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>endParentIdx <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">sink</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> endParentIdx<span class="token punctuation">,</span> len<span class="token punctuation">)</span> <span class="token comment">// 逐层往上构造大顶堆</span>
    endParentIdx<span class="token operator">--</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// step2&amp;3, 将堆顶和堆尾交互，缩小堆大小，再从上往下调整堆</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>len <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">--</span>len
    <span class="token function">swapArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span>
    <span class="token function">sink</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><blockquote><p>感觉就是<a href="/algorithm/data-structure/priority-queue">优先队列</a>的特殊情况，优先队列多了新增操作，所以多了个 <code>swim</code> 操作</p></blockquote> <h2 id="计数排序"><a href="#计数排序" class="header-anchor">#</a> 计数排序</h2> <p>原理：使用额外数组 countArr，其中 countArr[i] 的值 就是 待排序数组 arr 中元素值为 i 的个数</p> <p><img src="https://z3.ax1x.com/2021/09/27/42oeeA.gif" alt="countingSort"></p> <blockquote><p><a href="https://www.runoob.com/w3cnote/counting-sort.html" target="_blank" rel="noopener noreferrer">图片来源<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 计数排序
 * 原理：使用额外数组 countArr 计数
 * 其中 countArr[i] 的值 就是 待排序数组 arr 中元素值为 i 的个数
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">countSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> countArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    countArr<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>countArr<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 记录元素出现的次数</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 处理方式1</span>
  <span class="token comment">// 计算元素的最后出现的位置, 计算后 countArr[i] 就是 元素i 最后出现的位置</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> prevLastIdx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> countLen <span class="token operator">=</span> countArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> countLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      countArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> prevLastIdx
      prevLastIdx <span class="token operator">=</span> countArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 用来存放排序后的元素</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>len <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> val <span class="token operator">=</span> arr<span class="token punctuation">[</span>len<span class="token punctuation">]</span>
    <span class="token keyword">const</span> idx <span class="token operator">=</span> countArr<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token operator">--</span> <span class="token comment">// 所在下标，每插入1个，所在下标往前一位</span>
    res<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token operator">=</span> val
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> res

  <span class="token comment">// 处理方式2：下面这个处理有点投机，跟原来数组脱离关系了==</span>
  <span class="token comment">// 直接根据个数再重新生成新元素插入到原数组中，这没法判断稳定性了==</span>
  <span class="token comment">// const aLen = countArr.length</span>
  <span class="token comment">// let j = 0</span>
  <span class="token comment">// for (let i = 0; i &lt; aLen; i++) {</span>
  <span class="token comment">//   let count = countArr[i]</span>
  <span class="token comment">//   while (count &gt; 0) {</span>
  <span class="token comment">//     arr[j++] = i</span>
  <span class="token comment">//     count--</span>
  <span class="token comment">//   }</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h2 id="桶排序"><a href="#桶排序" class="header-anchor">#</a> 桶排序</h2> <p>原理：将数组分到有限数量的桶里。每个桶再个别排序（有可能再使用别的排序算法或是以递归方式继续使用桶排序进行排序）</p> <ul><li>元素分配到桶中</li></ul> <p><img src="https://upload.wikimedia.org/wikipedia/commons/6/61/Bucket_sort_1.svg" alt="Bucket_sort_1"></p> <ul><li>将各个桶进行排序，最后合并</li></ul> <p><img src="https://upload.wikimedia.org/wikipedia/commons/e/e3/Bucket_sort_2.svg" alt="Bucket_sort_2"></p> <blockquote><p>也可以在分配入桶时排序（下面的算法就是这样），图片来源 <a href="https://en.wikipedia.org/wiki/Bucket_sort" target="_blank" rel="noopener noreferrer">Bucket_sort | wikipedia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 桶排序
 * @param {Array} arr
 * @param {number} step 每个桶的取值区间，
 * 比如区间为10，那么各个桶的取值范围为 [min, min+10), [min+10, min+20)...
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">bucketSort</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">10</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span>
  <span class="token keyword">const</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span>

  <span class="token keyword">const</span> bucketCount <span class="token operator">=</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">/</span> step<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 桶个数</span>

  <span class="token keyword">const</span> buckets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 全部桶</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> bucketCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    buckets<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> val <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">const</span> idx <span class="token operator">=</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">/</span> step<span class="token punctuation">)</span> <span class="token comment">// 放入桶的下标</span>

    <span class="token comment">// 有序放入 buckets[idx] 桶中</span>
    <span class="token keyword">const</span> bucket <span class="token operator">=</span> buckets<span class="token punctuation">[</span>idx<span class="token punctuation">]</span>
    bucket<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>

    <span class="token comment">// 插入排序调整新插入的元素</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> bucket<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> bucket<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> bucket<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">swapArray</span><span class="token punctuation">(</span>bucket<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token operator">--</span>j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 各个桶排序结束了，进行合并</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> buckets<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="基数排序"><a href="#基数排序" class="header-anchor">#</a> 基数排序</h2> <p>原理：将整数按位数切割成不同的数字，然后按每个位数分别比较。由于整数也可以表达字符串（比如名字或日期）和特定格式的浮点数，所以基数排序也不是只能使用于整数。</p> <p><img src="https://z3.ax1x.com/2021/09/27/4RkbY6.gif" alt="radix sort"></p> <blockquote><p><a href="https://www.runoob.com/w3cnote/radix-sort.html" target="_blank" rel="noopener noreferrer">图片来源<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 基数排序
 * 原理：先按个位数排序，然后按十位数排序，..直到数字中的最大位数
 * @param {Array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">radixSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> maxDigit <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token comment">// 最大位数</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxDigit<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> base <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">**</span> i

    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> val <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      <span class="token keyword">const</span> radix <span class="token operator">=</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>val <span class="token operator">/</span> base<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token comment">// 从右到左第i位的数字</span>
      res<span class="token punctuation">[</span>radix<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span>radix<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      res<span class="token punctuation">[</span>radix<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    arr <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="timsort"><a href="#timsort" class="header-anchor">#</a> Timsort</h2> <p>Timsort 是一种混合稳定的排序算法，源自合并排序和插入排序，旨在较好地处理真实世界中各种各样的数据。</p> <p>将数组切成多片，每片使用插入排序，之后再进行归并排序。</p> <blockquote><p>插入排序对于小数组比较高效</p></blockquote> <h2 id="时间-空间复杂度汇总"><a href="#时间-空间复杂度汇总" class="header-anchor">#</a> 时间&amp;空间复杂度汇总</h2> <table><thead><tr><th>算法</th> <th>时间复杂度(最优)</th> <th>时间复杂度(平均)</th> <th>时间复杂度(最差)</th> <th>空间复杂度</th> <th>排序方式</th> <th>稳定性</th></tr></thead> <tbody><tr><td>Bubble Sort(冒泡排序)</td> <td>Ω(n)</td> <td>Θ(n^2)</td> <td>O(n^2)</td> <td>O(1)</td> <td>In-place</td> <td>稳定</td></tr> <tr><td>Selection Sort(选择排序)</td> <td>Ω(n^2)</td> <td>Θ(n^2)</td> <td>O(n^2)</td> <td>O(1)</td> <td>In-place</td> <td>不稳定</td></tr> <tr><td>Insertion Sort(插入排序)</td> <td>Ω(n)</td> <td>Θ(n^2)</td> <td>O(n^2)</td> <td>O(1)</td> <td>In-place</td> <td>稳定</td></tr> <tr><td>Shell Sort(希尔排序)</td> <td>Ω(n log(n))</td> <td>Θ(n(log(n))^2)</td> <td>O(n(log(n))^2)</td> <td>O(1)</td> <td>In-place</td> <td>不稳定</td></tr> <tr><td>Quicksort(快速排序)</td> <td>Ω(n log(n))</td> <td>Θ(n log(n))</td> <td>O(n^2)</td> <td>O(log(n))</td> <td>In-place</td> <td>不稳定</td></tr> <tr><td>Mergesort(归并排序)</td> <td>Ω(n log(n))</td> <td>Θ(n log(n))</td> <td>O(n log(n))</td> <td>O(n)</td> <td>In/Out-place</td> <td>稳定</td></tr> <tr><td>Heapsort(堆排序)</td> <td>Ω(n log(n))</td> <td>Θ(n log(n))</td> <td>O(n log(n))</td> <td>O(1)</td> <td>In-place</td> <td>不稳定</td></tr> <tr><td>Counting Sort(计数排序)</td> <td>Ω(n+k)</td> <td>Θ(n+k)</td> <td>O(n+k)</td> <td>O(k)</td> <td>Out-place</td> <td>稳定</td></tr> <tr><td>Bucket Sort(桶排序)</td> <td>Ω(n+k)</td> <td>Θ(n+k)</td> <td>O(n^2)</td> <td>O(n)</td> <td>Out-place</td> <td>稳定</td></tr> <tr><td>Radix Sort(基数排序)</td> <td>Ω(nk)</td> <td>Θ(nk)</td> <td>O(nk)</td> <td>O(n+k)</td> <td>Out-place</td> <td>稳定</td></tr> <tr><td>Timsort</td> <td>Ω(n)</td> <td>Θ(n log(n))</td> <td>O(n log(n))</td> <td>O(n)</td> <td>In-place</td> <td>稳定</td></tr></tbody></table> <h2 id="ref"><a href="#ref" class="header-anchor">#</a> REF</h2> <blockquote><p>https://www.bigocheatsheet.com/#graphs</p></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sluggishpj/notes/edit/master/docs/algorithm/algorithms/array-sorting-algorithms.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/18/2021, 11:38:05 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/algorithm/algorithms/" class="prev router-link-active">
        说明
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/notes/assets/js/app.c8212756.js" defer></script><script src="/notes/assets/js/3.fbca6c51.js" defer></script><script src="/notes/assets/js/13.899ef175.js" defer></script><script src="/notes/assets/js/4.effe20ae.js" defer></script>
  </body>
</html>
