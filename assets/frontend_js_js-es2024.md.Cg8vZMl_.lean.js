import{_ as i,c as a,a2 as n,o as h}from"./chunks/framework.Dr622ulX.js";const g=JSON.parse('{"title":"ES2024","description":"","frontmatter":{"title":"ES2024"},"headers":[],"relativePath":"frontend/js/js-es2024.md","filePath":"docs/frontend/js/js-es2024.md"}'),l={name:"frontend/js/js-es2024.md"};function k(e,s,t,p,r,d){return h(),a("div",null,s[0]||(s[0]=[n(`<h1 id="es2024" tabindex="-1">ES2024 <a class="header-anchor" href="#es2024" aria-label="Permalink to &quot;ES2024&quot;">â€‹</a></h1><h2 id="well-formed-unicode-strings" tabindex="-1">Well-Formed Unicode Strings <a class="header-anchor" href="#well-formed-unicode-strings" aria-label="Permalink to &quot;Well-Formed Unicode Strings&quot;">â€‹</a></h2><h3 id="ä»€ä¹ˆæ˜¯åŸºæœ¬å¤šæ–‡ç§å¹³é¢-bmp" tabindex="-1">ä»€ä¹ˆæ˜¯åŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆBMPï¼‰ï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åŸºæœ¬å¤šæ–‡ç§å¹³é¢-bmp" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯åŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆBMPï¼‰ï¼Ÿ&quot;">â€‹</a></h3><p>åŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆBasic Multilingual Planeï¼ŒBMPï¼‰æ˜¯Unicodeå­—ç¬¦é›†ä¸­çš„ä¸€ä¸ªå¹³é¢ï¼Œå…¶ç ç‚¹èŒƒå›´æ˜¯U+0000åˆ°U+FFFFã€‚è¿™ä¸ªå¹³é¢åŒ…å«äº†ç»å¤§å¤šæ•°å¸¸ç”¨çš„Unicodeå­—ç¬¦ï¼ŒåŒ…æ‹¬æ‹‰ä¸å­—æ¯ã€å¸Œè…Šå­—æ¯ã€è¥¿é‡Œå°”å­—æ¯ã€é˜¿æ‹‰ä¼¯æ•°å­—ã€ä¸­æ—¥éŸ©æ–‡å­—ç­‰ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯ä»£ç†å¯¹" tabindex="-1">ä»€ä¹ˆæ˜¯ä»£ç†å¯¹ï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ä»£ç†å¯¹" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ä»£ç†å¯¹ï¼Ÿ&quot;">â€‹</a></h3><p>JS ä¸­çš„å­—ç¬¦ä¸²æ˜¯ UTF-16 ç¼–ç çš„ã€‚åœ¨UTF-16ç¼–ç ä¸­ï¼Œä»£ç†å¯¹ï¼ˆSurrogate Pairï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¼–ç æœºåˆ¶ï¼Œç”¨äºè¡¨ç¤ºé‚£äº›è¶…å‡ºåŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆBMPï¼‰çš„Unicodeå­—ç¬¦ã€‚è¿™äº›å­—ç¬¦çš„Unicodeç ç‚¹é«˜äºU+FFFFï¼Œå› æ­¤æ— æ³•ç”¨ä¸€ä¸ª16ä½çš„UTF-16ç å…ƒæ¥è¡¨ç¤ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒUTF-16å¼•å…¥äº†ä»£ç†å¯¹æœºåˆ¶ã€‚</p><p>ä»£ç†å¯¹æ˜¯ç”±ä¸¤ä¸ª16ä½çš„ç å…ƒç»„æˆçš„ï¼š</p><ul><li>ä¸€ä¸ªç§°ä¸ºé«˜ä»£ç†ï¼ˆæˆ–é«˜ä»£ç†ç å…ƒï¼‰ï¼Œå…¶ç ç‚¹èŒƒå›´åœ¨U+D800åˆ°U+DBFFä¹‹é—´</li><li>å¦ä¸€ä¸ªç§°ä¸ºä½ä»£ç†ï¼ˆæˆ–ä½ä»£ç†ç å…ƒï¼‰ï¼Œå…¶ç ç‚¹èŒƒå›´åœ¨U+DC00åˆ°U+DFFFä¹‹é—´ã€‚è¿™ä¸¤ä¸ªç å…ƒåˆåœ¨ä¸€èµ·ï¼Œå¯ä»¥è¡¨ç¤ºä¸€ä¸ªè¶…å‡ºBMPçš„Unicodeå­—ç¬¦ã€‚</li></ul><p>ä¾‹å¦‚ï¼ŒUnicodeç ç‚¹U+10000ï¼ˆè¿™æ˜¯BMPä¹‹å¤–çš„ç¬¬ä¸€ä¸ªç ç‚¹ï¼‰åœ¨UTF-16ä¸­çš„ç¼–ç å°±æ˜¯é«˜ä»£ç†ç å…ƒU+D800å’Œä½ä»£ç†ç å…ƒU+DC00çš„ç»„åˆï¼Œå³â€œD800 DC00â€ã€‚åŒæ ·ï¼Œç ç‚¹U+10001çš„UTF-16ç¼–ç å°±æ˜¯â€œD800 DC01â€ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒUTF-16ç¼–ç èƒ½å¤Ÿå®Œå…¨è¡¨ç¤ºæ‰€æœ‰Unicodeå­—ç¬¦ï¼Œæ— è®ºæ˜¯BMPå†…çš„è¿˜æ˜¯BMPå¤–çš„ã€‚è¿™ç§ä»£ç†å¯¹æœºåˆ¶æ˜¯UTF-16ç¼–ç æ–¹æ¡ˆçš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œä½¿å¾—UTF-16æˆä¸ºä¸€ç§èƒ½å¤Ÿçµæ´»å¤„ç†å„ç§è¯­è¨€å­—ç¬¦çš„ç¼–ç æ–¹å¼ã€‚</p><h3 id="string-prototype-iswellformed" tabindex="-1">String.prototype.isWellFormed() <a class="header-anchor" href="#string-prototype-iswellformed" aria-label="Permalink to &quot;String.prototype.isWellFormed()&quot;">â€‹</a></h3><p><code>isWellFormed()</code> æ–¹æ³•ç”¨äºæ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ ¼å¼è‰¯å¥½çš„ Unicode ä»£ç ç‚¹åºåˆ—ã€‚å¦‚æœå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ä»£ç†å¯¹éƒ½æ˜¯å®Œæ•´ä¸”æœ‰æ•ˆçš„ï¼Œåˆ™è¿”å› <code>true</code>ï¼›å¦‚æœå­˜åœ¨å­¤ç«‹çš„ä»£ç†ç å…ƒï¼ˆå³ä¸æˆå¯¹çš„é«˜ä»£ç†æˆ–ä½ä»£ç†ç å…ƒï¼‰ï¼Œåˆ™è¿”å› <code>false</code>ã€‚</p><h4 id="ç¤ºä¾‹" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼è‰¯å¥½çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wellFormed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;JavaScript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wellFormed.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŒ…å«è¡¨æƒ…ç¬¦å·çš„æ ¼å¼è‰¯å¥½å­—ç¬¦ä¸²ï¼ˆè¡¨æƒ…ç¬¦å·é€šå¸¸ç”±ä»£ç†å¯¹è¡¨ç¤ºï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ğŸ˜Š&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(emoji.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼ä¸è‰¯çš„å­—ç¬¦ä¸²ï¼ˆåŒ…å«å­¤ç«‹çš„é«˜ä»£ç†ç å…ƒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> highSurrogate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uD800</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(highSurrogate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼ä¸è‰¯çš„å­—ç¬¦ä¸²ï¼ˆåŒ…å«å­¤ç«‹çš„ä½ä»£ç†ç å…ƒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lowSurrogate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uDC00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lowSurrogate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼è‰¯å¥½çš„ä»£ç†å¯¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> surrogatePair</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uD83D\\uDE0A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­‰åŒäº &quot;ğŸ˜Š&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(surrogatePair.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼ä¸è‰¯çš„ä»£ç†å¯¹ï¼ˆä»£ç†ç å…ƒä¸åˆæ³•ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> invalidSurrogatePair</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uD800\\u0061</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸åˆæ³•çš„ä»£ç†å¯¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(invalidSurrogatePair.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span></code></pre></div><h3 id="string-prototype-towellformed" tabindex="-1">String.prototype.toWellFormed() <a class="header-anchor" href="#string-prototype-towellformed" aria-label="Permalink to &quot;String.prototype.toWellFormed()&quot;">â€‹</a></h3><p><code>toWellFormed()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­æ‰€æœ‰å­¤ç«‹çš„ä»£ç†ç å…ƒéƒ½è¢«æ›¿æ¢ä¸º Unicode æ›¿æ¢å­—ç¬¦ U+FFFD (ï¿½)ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥ä¿®å¤æ ¼å¼ä¸è‰¯çš„ Unicode å­—ç¬¦ä¸²ï¼Œä½¿å…¶æˆä¸ºæ ¼å¼è‰¯å¥½çš„å­—ç¬¦ä¸²ã€‚</p><ul><li>å¦‚æœåŸå­—ç¬¦ä¸²å·²ç»æ˜¯æ ¼å¼è‰¯å¥½çš„ï¼Œåˆ™è¿”å›ä¸åŸå­—ç¬¦ä¸²ç›¸åŒçš„æ–°å­—ç¬¦ä¸²</li><li>å¦‚æœåŸå­—ç¬¦ä¸²åŒ…å«å­¤ç«‹çš„ä»£ç†ç å…ƒï¼Œåˆ™è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå…¶ä¸­è¿™äº›å­¤ç«‹çš„ä»£ç†ç å…ƒè¢«æ›¿æ¢ä¸º U+FFFD(ï¿½)</li></ul><h4 id="ç¤ºä¾‹-1" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹-1" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼è‰¯å¥½çš„å­—ç¬¦ä¸²ä¿æŒä¸å˜</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wellFormed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;JavaScript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wellFormed.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;JavaScript&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wellFormed.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wellFormed); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// trueï¼ˆå†…å®¹ç›¸åŒä½†æ˜¯æ–°å­—ç¬¦ä¸²ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŒ…å«è¡¨æƒ…ç¬¦å·çš„æ ¼å¼è‰¯å¥½å­—ç¬¦ä¸²ä¿æŒä¸å˜</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ğŸ˜Š&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(emoji.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;ğŸ˜Š&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼ä¸è‰¯çš„å­—ç¬¦ä¸²ï¼ˆåŒ…å«å­¤ç«‹çš„é«˜ä»£ç†ç å…ƒï¼‰è¢«ä¿®å¤</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> highSurrogate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uD800</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(highSurrogate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;ï¿½&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(highSurrogate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uFFFD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼ä¸è‰¯çš„å­—ç¬¦ä¸²ï¼ˆåŒ…å«å­¤ç«‹çš„ä½ä»£ç†ç å…ƒï¼‰è¢«ä¿®å¤</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lowSurrogate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uDC00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lowSurrogate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;ï¿½&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ··åˆæ ¼å¼çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mixed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;JavaScript </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uD800</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uDC00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> awesome&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mixed.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;JavaScript ï¿½ is ï¿½ awesome&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸ isWellFormed ç»“åˆä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> safeProcessString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å­—ç¬¦ä¸²æ ¼å¼ä¸è‰¯ï¼Œå·²è‡ªåŠ¨ä¿®å¤&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toWellFormed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ç”¨æˆ·è¾“å…¥: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\uD800</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">safeProcessString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;ç”¨æˆ·è¾“å…¥: ï¿½&quot;ï¼ˆå¹¶è¾“å‡ºè­¦å‘Šï¼‰</span></span></code></pre></div><ul><li>å¯ç”¨äºæ•°æ®æ¸…ç†ï¼šåœ¨å¤„ç†æ¥è‡ªä¸å¯ä¿¡æ¥æºçš„æ–‡æœ¬æ•°æ®æ—¶ï¼Œç¡®ä¿å­—ç¬¦ä¸²æ ¼å¼æ­£ç¡®ã€‚æ¯”å¦‚ <code>encodeURI</code>åœ¨ç¼–ç ä¸€ä¸ªéé«˜ - ä½ä½å®Œæ•´çš„ä»£ç†å­—ç¬¦ä¼šæŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨ <code>toWellFormed</code> å…ˆå¤„ç†æºå­—ç¬¦ä¸²ï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚</li></ul><h2 id="atomics-waitasync" tabindex="-1"><code>Atomics.waitAsync()</code> <a class="header-anchor" href="#atomics-waitasync" aria-label="Permalink to &quot;\`Atomics.waitAsync()\`&quot;">â€‹</a></h2><p><code>Atomics.waitAsync()</code> æ–¹æ³•æ˜¯ <code>Atomics.wait()</code> æ–¹æ³•çš„å¼‚æ­¥ç‰ˆæœ¬ã€‚å®ƒè¿”å›ä¸€ä¸ª <code>Promise</code>ï¼Œå½“æŒ‡å®šçš„ç´¢å¼•å¤„çš„å…ƒç´ çš„å€¼æ»¡è¶³ç»™å®šçš„æ¡ä»¶æ—¶ï¼Œè¯¥ <code>Promise</code> ä¼šè¢«è§£æã€‚</p><blockquote><p>Atomics: <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Atomics" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Atomics</a></p></blockquote><h2 id="regexp-v-flag-with-set-notation-properties-of-strings" tabindex="-1">RegExp v flag with set notation + properties of strings <a class="header-anchor" href="#regexp-v-flag-with-set-notation-properties-of-strings" aria-label="Permalink to &quot;RegExp v flag with set notation + properties of strings&quot;">â€‹</a></h2><h3 id="v-æ ‡å¿—" tabindex="-1"><code>v</code> æ ‡å¿— <a class="header-anchor" href="#v-æ ‡å¿—" aria-label="Permalink to &quot;\`v\` æ ‡å¿—&quot;">â€‹</a></h3><p><code>v</code> æ ‡å¿—æ˜¯ ES2024 å¼•å…¥çš„ä¸€ä¸ªæ–°çš„æ­£åˆ™è¡¨è¾¾å¼æ ‡å¿—ï¼Œå®ƒå¯ç”¨äº†ä¸€äº›æ–°çš„ç‰¹æ€§ï¼š</p><ol><li>é›†åˆè¡¨ç¤ºæ³•</li><li>å­—ç¬¦ä¸²å±æ€§è½¬ä¹‰</li></ol><h3 id="é›†åˆè¡¨ç¤ºæ³•" tabindex="-1">é›†åˆè¡¨ç¤ºæ³• <a class="header-anchor" href="#é›†åˆè¡¨ç¤ºæ³•" aria-label="Permalink to &quot;é›†åˆè¡¨ç¤ºæ³•&quot;">â€‹</a></h3><p><code>v</code> æ ‡å¿—å…è®¸ä½¿ç”¨æ›´çµæ´»çš„é›†åˆè¿ç®—ç¬¦æ¥å®šä¹‰å­—ç¬¦ç±»ï¼š</p><ul><li>å¹¶é›†è¿ç®—ï¼šä½¿ç”¨ <code>||</code></li><li>äº¤é›†è¿ç®—ï¼šä½¿ç”¨ <code>&amp;&amp;</code></li><li>å·®é›†è¿ç®—ï¼šä½¿ç”¨ <code>--</code></li><li>åµŒå¥—é›†åˆï¼šä½¿ç”¨ <code>[]</code></li></ul><h4 id="ç¤ºä¾‹-2" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹-2" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¹¶é›†è¿ç®—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vowelRegex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[aeiou]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[AEIOU]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vowelRegex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// äº¤é›†è¿ç®—ï¼šåŒ¹é…æ—¢æ˜¯æ•°å­—åˆæ˜¯å¶æ•°çš„å­—ç¬¦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> evenDigitRegex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[[\\d]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">&amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[02468]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(evenDigitRegex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(evenDigitRegex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å·®é›†è¿ç®—ï¼šåŒ¹é…éæ•°å­—å­—ç¬¦ï¼ˆæ’é™¤æ•°å­—ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nonDigitRegex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[[\\D]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">--</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[0-9]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(nonDigitRegex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;abc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(nonDigitRegex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åµŒå¥—é›†åˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> alphanumericRegex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[a-zA-Z]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">&amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[0-9]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[A-Z]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">&amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[a-z]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphanumericRegex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div><h3 id="å­—ç¬¦ä¸²å±æ€§è½¬ä¹‰" tabindex="-1">å­—ç¬¦ä¸²å±æ€§è½¬ä¹‰ <a class="header-anchor" href="#å­—ç¬¦ä¸²å±æ€§è½¬ä¹‰" aria-label="Permalink to &quot;å­—ç¬¦ä¸²å±æ€§è½¬ä¹‰&quot;">â€‹</a></h3><p><code>v</code> æ ‡å¿—å…è®¸åœ¨å­—ç¬¦ç±»ä¸­ä½¿ç”¨æ›´å¤šå­—ç¬¦ä¸²å±æ€§è½¬ä¹‰ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><code>Basic_Emoji</code></li><li><code>Emoji_Keycap_Sequence</code></li><li><code>RGI_Emoji_Modifier_Sequence</code></li><li><code>RGI_Emoji_Flag_Sequence</code></li><li><code>RGI_Emoji_Tag_Sequence</code></li><li><code>RGI_Emoji_ZWJ_Sequence</code></li><li><code>RGI_Emoji</code></li></ul><h4 id="ç¤ºä¾‹-3" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹-3" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> re</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\p</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">{RGI_Emoji}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Match an emoji that consists of just 1 code point:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">re.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;âš½&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;\\u26BD&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// â†’ true âœ…</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Match an emoji that consists of multiple code points:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">re.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ğŸ‘¨ğŸ¾â€âš•ï¸&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;\\u{1F468}\\u{1F3FE}\\u200D\\u2695\\uFE0F&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// â†’ true âœ…</span></span></code></pre></div><h3 id="æ³¨æ„äº‹é¡¹" tabindex="-1">æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h3><ul><li><code>v</code> æ ‡è¯†å®Œå…¨ç‹¬ç«‹äº <code>u</code> æ ‡è¯†ï¼ŒäºŒè€…ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼ˆå¦åˆ™æŠ¥é”™ï¼‰</li><li>å½“iæ ‡è¯†è¢«ä½¿ç”¨æ—¶ï¼Œ<code>u</code>å’Œ<code>v</code>æ ‡è¯†ç¬¦çš„åŒ¹é…é€»è¾‘ä¸åŒï¼š</li></ul><blockquote><p>When the <code>i</code> flag is set, <code>\\P</code> character classes are handled slightly differently in <code>u</code> and <code>v</code> modes. In <code>u</code> mode, case-folding happens after subtraction; in <code>v</code> mode, case-folding happens before subtraction. More concretely, in <code>u</code> mode, <code>\\P{property}</code> matches <code>caseFold(allCharacters - charactersWithProperty)</code>. This means <code>/\\P{Lowercase_Letter}/iu</code> still matches &quot;a&quot;, because A is not a <code>Lowercase_Letter</code>. In <code>v</code> mode, <code>\\P{property}</code> matches <code>caseFold(allCharacters) - caseFold(charactersWithProperty)</code>. This means <code>/\\P{Lowercase_Letter}/iv</code> does not match &quot;a&quot;, because A is not even in the set of all case-folded Unicode characters.<br> ref: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Unicode_character_class_escape" target="_blank" rel="noreferrer">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Unicode_character_class_escape</a></p></blockquote><h3 id="æ›´å¤šå­—ç¬¦ä¸²å±æ€§è½¬ä¹‰" tabindex="-1">æ›´å¤šå­—ç¬¦ä¸²å±æ€§è½¬ä¹‰ <a class="header-anchor" href="#æ›´å¤šå­—ç¬¦ä¸²å±æ€§è½¬ä¹‰" aria-label="Permalink to &quot;æ›´å¤šå­—ç¬¦ä¸²å±æ€§è½¬ä¹‰&quot;">â€‹</a></h3><blockquote><p><a href="https://www.unicode.org/reports/tr44/#Property_Index_Table" target="_blank" rel="noreferrer">https://www.unicode.org/reports/tr44/#Property_Index_Table</a></p></blockquote><h2 id="resizable-and-growable-arraybuffers" tabindex="-1">Resizable and growable ArrayBuffers <a class="header-anchor" href="#resizable-and-growable-arraybuffers" aria-label="Permalink to &quot;Resizable and growable ArrayBuffers&quot;">â€‹</a></h2><p>ES2024 å¼•å…¥äº†å¯è°ƒæ•´å¤§å°çš„ ArrayBuffer å’Œ SharedArrayBufferï¼Œå…è®¸å¼€å‘è€…åŠ¨æ€è°ƒæ•´è¿™äº›ç¼“å†²åŒºçš„å¤§å°ï¼Œè€Œä¸å¿…åˆ›å»ºæ–°çš„ç¼“å†²åŒºå¹¶å¤åˆ¶æ•°æ®ã€‚</p><h3 id="æ–°çš„æ„é€ å‡½æ•°é€‰é¡¹" tabindex="-1">æ–°çš„æ„é€ å‡½æ•°é€‰é¡¹ <a class="header-anchor" href="#æ–°çš„æ„é€ å‡½æ•°é€‰é¡¹" aria-label="Permalink to &quot;æ–°çš„æ„é€ å‡½æ•°é€‰é¡¹&quot;">â€‹</a></h3><p>æ–°çš„æ„é€ å‡½æ•°é€‰é¡¹å…è®¸åˆ›å»ºå¯è°ƒæ•´å¤§å°çš„ç¼“å†²åŒºï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„ ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„ SharedArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sharedBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SharedArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆå§‹å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé€‰é¡¹å¯¹è±¡ï¼Œå…¶ä¸­ <code>maxByteLength</code> æŒ‡å®šäº†ç¼“å†²åŒºå¯ä»¥å¢é•¿åˆ°çš„æœ€å¤§å­—èŠ‚é•¿åº¦</li></ul><h3 id="æ–°çš„å®ä¾‹æ–¹æ³•" tabindex="-1">æ–°çš„å®ä¾‹æ–¹æ³• <a class="header-anchor" href="#æ–°çš„å®ä¾‹æ–¹æ³•" aria-label="Permalink to &quot;æ–°çš„å®ä¾‹æ–¹æ³•&quot;">â€‹</a></h3><p><code>ArrayBuffer.prototype.resize()</code> å’Œ <code>SharedArrayBuffer.prototype.grow()</code> è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨äºè°ƒæ•´ç¼“å†²åŒºçš„å¤§å°ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„ ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.byteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1024</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è°ƒæ•´ ArrayBuffer çš„å¤§å°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1536</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.byteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1536</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„ SharedArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sharedBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SharedArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sharedBuffer.byteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1024</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¢åŠ  SharedArrayBuffer çš„å¤§å°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sharedBuffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1536</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sharedBuffer.byteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1536</span></span></code></pre></div><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><code>resize()</code> æ–¹æ³•å¯ä»¥å¢å¤§æˆ–å‡å° ArrayBuffer çš„å¤§å°</li><li><code>grow()</code> æ–¹æ³•åªèƒ½å¢åŠ  SharedArrayBuffer çš„å¤§å°ï¼Œä¸èƒ½å‡å°</li><li>è°ƒæ•´å¤§å°æ—¶ä¸èƒ½è¶…è¿‡åˆ›å»ºæ—¶æŒ‡å®šçš„ <code>maxByteLength</code></li><li>å½“å‡å° ArrayBuffer å¤§å°æ—¶ï¼Œè¶…å‡ºæ–°å¤§å°çš„æ•°æ®ä¼šè¢«æˆªæ–­</li></ul><h3 id="æ–°çš„å®ä¾‹å±æ€§" tabindex="-1">æ–°çš„å®ä¾‹å±æ€§ <a class="header-anchor" href="#æ–°çš„å®ä¾‹å±æ€§" aria-label="Permalink to &quot;æ–°çš„å®ä¾‹å±æ€§&quot;">â€‹</a></h3><p><code>ArrayBuffer.prototype.resizable</code> å’Œ <code>SharedArrayBuffer.prototype.growable</code> è¿™ä¸¤ä¸ªå±æ€§ç”¨äºæ£€æŸ¥ç¼“å†²åŒºæ˜¯å¦å¯ä»¥è°ƒæ•´å¤§å°ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> regularBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(regularBuffer.resizable); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> resizableBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resizableBuffer.resizable); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> regularSharedBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SharedArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(regularSharedBuffer.growable); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> growableSharedBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SharedArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(growableSharedBuffer.growable); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div><p><code>ArrayBuffer.prototype.maxByteLength</code> å’Œ <code>SharedArrayBuffer.prototype.maxByteLength</code> è¿™ä¸¤ä¸ªå±æ€§è¿”å›ç¼“å†²åŒºå¯ä»¥å¢é•¿åˆ°çš„æœ€å¤§å­—èŠ‚é•¿åº¦ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.maxByteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2048</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sharedBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SharedArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { maxByteLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sharedBuffer.maxByteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2048</span></span></code></pre></div><blockquote><p><a href="https://github.com/tc39/proposal-resizablearraybuffer" target="_blank" rel="noreferrer">https://github.com/tc39/proposal-resizablearraybuffer</a></p></blockquote><h2 id="array-grouping" tabindex="-1">Array Grouping <a class="header-anchor" href="#array-grouping" aria-label="Permalink to &quot;Array Grouping&quot;">â€‹</a></h2><h3 id="object-groupby" tabindex="-1"><code>Object.groupBy()</code> <a class="header-anchor" href="#object-groupby" aria-label="Permalink to &quot;\`Object.groupBy()\`&quot;">â€‹</a></h3><p><code>Object.groupBy()</code> æ–¹æ³•æ˜¯ ES2024 å¼•å…¥çš„ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªé”®éƒ½æ˜¯å›è°ƒå‡½æ•°è¿”å›çš„å€¼ï¼Œæ¯ä¸ªå€¼éƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰å›è°ƒå‡½æ•°è¿”å›è¯¥é”®çš„å…ƒç´ ã€‚</p><p>æ³¨æ„ï¼š<code>Object.groupBy()</code> è¿”å›çš„å¯¹è±¡çš„åŸå‹æ˜¯<code>null</code>ï¼Œå› æ­¤æ— æ³•ç›´æ¥ä½¿ç”¨ <code>Object</code> åŸå‹ä¸Šçš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code>hasOwnProperty</code> ç­‰ã€‚</p><h4 id="ç¤ºä¾‹-4" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹-4" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> array</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`Object.groupBy\` groups items by arbitrary key.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In this case, we&#39;re grouping by even/odd keys</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> o </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(array, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;even&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;odd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =&gt;  { odd: [1, 3, 5], even: [2, 4] }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">o.hasOwnProperty </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPrototypeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(o) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// null</span></span></code></pre></div><h3 id="map-groupby" tabindex="-1"><code>Map.groupBy()</code> <a class="header-anchor" href="#map-groupby" aria-label="Permalink to &quot;\`Map.groupBy()\`&quot;">â€‹</a></h3><p><code>Map.groupBy()</code> æ–¹æ³•æ˜¯ ES2024 å¼•å…¥çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>Map</code>ï¼Œå…¶ä¸­æ¯ä¸ªé”®éƒ½æ˜¯å›è°ƒå‡½æ•°è¿”å›çš„å€¼ï¼Œæ¯ä¸ªå€¼éƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰å›è°ƒå‡½æ•°è¿”å›è¯¥é”®çš„å…ƒç´ ã€‚</p><h4 id="ç¤ºä¾‹-5" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹-5" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> array</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`Map.groupBy\` returns items in a Map, and is useful for grouping</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// using an object key.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> odd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { odd: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> even</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { even: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(array, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> even</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> odd;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =&gt;  Map { {odd: true}: [1, 3, 5], {even: true}: [2, 4] }</span></span></code></pre></div><h2 id="promise-withresolvers" tabindex="-1"><code>Promise.withResolvers()</code> <a class="header-anchor" href="#promise-withresolvers" aria-label="Permalink to &quot;\`Promise.withResolvers()\`&quot;">â€‹</a></h2><p><code>Promise.withResolvers()</code>è¿”å›ä¸€ä¸ªåŒ…å«æ–°åˆ›å»ºçš„ Promise åŠå…¶æ§åˆ¶å‡½æ•°çš„å¯¹è±¡ã€‚è¿™ä¸ªæ–¹æ³•ç®€åŒ–äº†åœ¨éœ€è¦å¤–éƒ¨æ§åˆ¶ Promise çŠ¶æ€çš„åœºæ™¯ä¸‹çš„ä»£ç ç¼–å†™ã€‚</p><p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p><ul><li><code>promise</code>: ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹</li><li><code>resolve</code>: ç”¨äºå°† Promise çŠ¶æ€å˜ä¸ºå·²å®Œæˆï¼ˆfulfilledï¼‰çš„å‡½æ•°</li><li><code>reject</code>: ç”¨äºå°† Promise çŠ¶æ€å˜ä¸ºå·²æ‹’ç»ï¼ˆrejectedï¼‰çš„å‡½æ•°</li></ul><h3 id="ç¤ºä¾‹-6" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹-6" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withResolvers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>è€Œä¹‹å‰ç­‰ä»·çš„åšæ³•æ˜¯</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resolve, reject;  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">rej</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  reject </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rej;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="arraybuffer-transfer" tabindex="-1">ArrayBuffer transfer <a class="header-anchor" href="#arraybuffer-transfer" aria-label="Permalink to &quot;ArrayBuffer transfer&quot;">â€‹</a></h2><p>ArrayBuffer çš„è½¬ç§»åŠŸèƒ½ï¼Œå…è®¸åœ¨ä¸å¤åˆ¶åº•å±‚å†…å­˜çš„æƒ…å†µä¸‹å°† ArrayBuffer çš„æ‰€æœ‰æƒä»ä¸€ä¸ªä¸Šä¸‹æ–‡è½¬ç§»åˆ°å¦ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚è¿™ä¸ªåŠŸèƒ½é€šè¿‡æ–°çš„ <code>ArrayBuffer.prototype.transfer()</code> å’Œ <code>ArrayBuffer.prototype.transferToFixedLength()</code> æ–¹æ³•å®ç°ã€‚</p><h3 id="arraybuffer-prototype-transfer" tabindex="-1"><code>ArrayBuffer.prototype.transfer()</code> <a class="header-anchor" href="#arraybuffer-prototype-transfer" aria-label="Permalink to &quot;\`ArrayBuffer.prototype.transfer()\`&quot;">â€‹</a></h3><p><code>transfer()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„ ArrayBufferï¼Œå…¶å†…å®¹ä¸åŸå§‹ ArrayBuffer ç›¸åŒï¼Œä½†åŸå§‹ ArrayBuffer ä¼šè¢«åˆ†ç¦»ï¼ˆdetachedï¼‰ï¼Œå³å˜ä¸ºä¸å¯ç”¨çŠ¶æ€ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ª ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> view</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½¬ç§» ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transferred</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transfer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŸå§‹ buffer ç°åœ¨å·²è¢«åˆ†ç¦»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.byteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.detached); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°çš„ buffer åŒ…å«åŸå§‹æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newView</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(transferred);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], newView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], newView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], newView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1 2 3 4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(transferred.byteLength); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 16</span></span></code></pre></div><h3 id="arraybuffer-prototype-transfertofixedlength" tabindex="-1"><code>ArrayBuffer.prototype.transferToFixedLength()</code> <a class="header-anchor" href="#arraybuffer-prototype-transfertofixedlength" aria-label="Permalink to &quot;\`ArrayBuffer.prototype.transferToFixedLength()\`&quot;">â€‹</a></h3><p><code>transferToFixedLength()</code> æ–¹æ³•ä¸ <code>transfer()</code> ç±»ä¼¼ï¼Œä½†å…è®¸æŒ‡å®šæ–° ArrayBuffer çš„å¤§å°ã€‚å¦‚æœæŒ‡å®šçš„å¤§å°å°äºåŸå§‹ ArrayBufferï¼Œæ•°æ®ä¼šè¢«æˆªæ–­ï¼›å¦‚æœå¤§äºåŸå§‹ ArrayBufferï¼Œå¤šä½™çš„éƒ¨åˆ†ä¼šè¢«å¡«å……ä¸º 0ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸€ä¸ª ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> view</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½¬ç§»åˆ°æ›´å°çš„ ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> smaller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transferToFixedLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.detached); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> smallerView</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(smaller);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(smallerView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(smallerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], smallerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºå¦ä¸€ä¸ª ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> view2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer2);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½¬ç§»åˆ°æ›´å¤§çš„ ArrayBuffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> larger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> buffer2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transferToFixedLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer2.detached); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> largerView</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(larger);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(largerView.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 5 6 7 8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], largerView[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0 0 0 0</span></span></code></pre></div><h3 id="arraybuffer-prototype-detached" tabindex="-1"><code>ArrayBuffer.prototype.detached</code> <a class="header-anchor" href="#arraybuffer-prototype-detached" aria-label="Permalink to &quot;\`ArrayBuffer.prototype.detached\`&quot;">â€‹</a></h3><p>ES2024 è¿˜å¼•å…¥äº†ä¸€ä¸ªæ–°çš„åªè¯»å±æ€§ <code>detached</code> ï¼Œç”¨äºæ£€æŸ¥ ArrayBuffer æ˜¯å¦å·²è¢«åˆ†ç¦»ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.detached); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transferred</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transfer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.detached); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(transferred.detached); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span></code></pre></div><h2 id="ref" tabindex="-1">REF <a class="header-anchor" href="#ref" aria-label="Permalink to &quot;REF&quot;">â€‹</a></h2><blockquote><p><a href="https://github.com/tc39/proposals/blob/main/finished-proposals.md" target="_blank" rel="noreferrer">https://github.com/tc39/proposals/blob/main/finished-proposals.md</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/encodeURI" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/encodeURI</a><br><a href="https://v8.dev/features/regexp-v-flag" target="_blank" rel="noreferrer">https://v8.dev/features/regexp-v-flag</a></p></blockquote>`,91)]))}const o=i(l,[["render",k]]);export{g as __pageData,o as default};
