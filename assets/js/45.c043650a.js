(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{445:function(t,e,_){"use strict";_.r(e);var o=_(23),v=Object(o.a)({},(function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"存储"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#存储"}},[t._v("#")]),t._v(" 存储")]),t._v(" "),_("h2",{attrs:{id:"cookie"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" cookie")]),t._v(" "),_("ul",[_("li",[t._v("limit: 4K")]),t._v(" "),_("li",[t._v("每次都会携带在 header 中")])]),t._v(" "),_("p",[t._v("安全性")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("属性")]),t._v(" "),_("th",[t._v("作用")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("value")]),t._v(" "),_("td",[t._v("如果用于保存用户登录态，应该将该值加密，不能使用明文的用户标识")])]),t._v(" "),_("tr",[_("td",[t._v("http-only")]),t._v(" "),_("td",[t._v("不能通过 JS 访问 Cookie，减少 XSS 攻击")])]),t._v(" "),_("tr",[_("td",[t._v("secure")]),t._v(" "),_("td",[t._v("只能在协议为 HTTPS 的请求中携带")])]),t._v(" "),_("tr",[_("td",[t._v("same-site")]),t._v(" "),_("td",[t._v("规定浏览器不能在跨域请求中携带 Cookie，减少 CSRF 攻击")])])])]),t._v(" "),_("h2",{attrs:{id:"localstorage"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[t._v("#")]),t._v(" localStorage")]),t._v(" "),_("ul",[_("li",[t._v("limit: 5M")]),t._v(" "),_("li",[t._v("除非被清理，否则一直存在")])]),t._v(" "),_("h2",{attrs:{id:"sessionstorage"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage"}},[t._v("#")]),t._v(" sessionStorage")]),t._v(" "),_("ul",[_("li",[t._v("limit: 5M")]),t._v(" "),_("li",[t._v("页面关闭就清理")])]),t._v(" "),_("h2",{attrs:{id:"indexdb"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#indexdb"}},[t._v("#")]),t._v(" indexDB")]),t._v(" "),_("ul",[_("li",[t._v("limit: 不同浏览器不一样")])]),t._v(" "),_("h2",{attrs:{id:"储存限制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#储存限制"}},[t._v("#")]),t._v(" 储存限制")]),t._v(" "),_("p",[t._v("浏览器的最大存储空间是动态的——它取决于您的硬盘大小。 "),_("strong",[t._v("全局限制")]),t._v("为可用磁盘空间的 50％。\n如果超过此范围，则会发起称为源回收的过程，删除整个源的数据，直到存储量再次低于限制。删除源数据没有只删一部分的说法——因为这样可能会导致不一致的问题。")]),t._v(" "),_("p",[t._v("还有另一个限制称为"),_("strong",[t._v("组限制")]),t._v("——这被定义为全局限制的 20％，但它至少有 10 MB，最大为 2GB。 每个源都是一组（源组）的一部分。")]),t._v(" "),_("ul",[_("li",[_("code",[t._v("mozilla.org")]),t._v("——组 1，源 1")]),t._v(" "),_("li",[_("code",[t._v("www.mozilla.org")]),t._v("——组 1，源 2")]),t._v(" "),_("li",[_("code",[t._v("joe.blogs.mozilla.org")]),t._v("——组 1，源 3")]),t._v(" "),_("li",[_("code",[t._v("firefox.com")]),t._v(" ——组 2，源 4")])]),t._v(" "),_("p",[t._v("在这个组中，"),_("code",[t._v("mozilla.org")]),t._v("、"),_("code",[t._v("www.mozilla.org")]),t._v(" 和 "),_("code",[t._v("joe.blogs.mozilla.org")]),t._v(" 可以聚合使用最多 20％的全局限制。 "),_("code",[t._v("firefox.com")]),t._v(" 单独最多使用 20％。")]),t._v(" "),_("blockquote",[_("p",[t._v("chrome 的组限制是 min(剩余内存/10, 2G)。"),_("a",{attrs:{href:"https://chromium.googlesource.com/chromium/src/+/refs/heads/master/storage/browser/quota/quota_settings.cc#68",target:"_blank",rel:"noopener noreferrer"}},[t._v("REF"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=v.exports}}]);