---
title: å­—ç¬¦ä¸²ä¸Žæ–‡æœ¬
---

## å­—ç¬¦ä¸²

JavaScript çš„å­—ç¬¦ä¸²ç±»åž‹ç”¨äºŽè¡¨ç¤ºæ–‡æœ¬æ•°æ®ã€‚å®ƒæ˜¯ä¸€ç»„ 16 ä½çš„æ— ç¬¦å·æ•´æ•°å€¼çš„â€œå…ƒç´ â€ã€‚åœ¨å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå…ƒç´ å æ®äº†å­—ç¬¦ä¸²çš„ä½ç½®ã€‚

### String å­—é¢é‡

#### 16 è¿›åˆ¶è½¬ä¹‰åºåˆ—

`\x` ä¹‹åŽçš„æ•°å€¼å°†è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ª 16 è¿›åˆ¶æ•°

```js
'\xA9' // "Â©"
```

#### Unicode è½¬ä¹‰åºåˆ—

Unicode è½¬ä¹‰åºåˆ—åœ¨`\u` ä¹‹åŽéœ€è¦è‡³å°‘ 4 ä¸ªå­—ç¬¦

```js
'\u00A9' // "Â©"
```

#### Unicode code point escapes

ECMAScript 6 ä¸­çš„æ–°ç‰¹æ€§ã€‚ä»»ä½•å­—ç¬¦éƒ½å¯ä»¥ç”¨ 16 è¿›åˆ¶æ•°è½¬ä¹‰, è¿™ä½¿å¾—é€šè¿‡ Unicode è½¬ä¹‰è¡¨ç¤ºå¤§äºŽ `0x10FFFF` çš„å­—ç¬¦æˆä¸ºå¯èƒ½ã€‚ä½¿ç”¨ç®€å•çš„ Unicode è½¬ä¹‰æ—¶é€šå¸¸éœ€è¦åˆ†åˆ«å†™å­—ç¬¦ç›¸åº”çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼ˆè¯‘æ³¨ï¼šå¤§äºŽ `0x10FFFF` çš„å­—ç¬¦éœ€è¦æ‹†åˆ†ä¸ºç›¸åº”çš„ä¸¤ä¸ªå°äºŽ `0x10FFFF` çš„éƒ¨åˆ†ï¼‰æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæžœã€‚

- `String.fromCodePoint()`
- `String.prototype.codePointAt()`

```js
'ðŸ˜‚'.length // 2
'ðŸ˜‚'.charCodeAt(0) // 55357 [å³ 0xD83D]
'ðŸ˜‚'.charCodeAt(1) // 56834 [å³ 0xDE02]
'ðŸ˜‚'.codePointAt(0) // 128514 [å³ 0x1F602]
;('\u{1F602}') // ðŸ˜‚
;('\uD83D\uDE02') // ðŸ˜‚
String.fromCodePoint(0x1F602) // ðŸ˜‚
'\u{1F602}'[0] === '\uD83D' // true
```

> æ¯ä¸ªå…ƒç´ éƒ½è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå•ç‹¬çš„ UTF-16 ç å…ƒã€‚æ— è®ºè¿™æ˜¯å¦æ˜¯å­—ç¬¦ä¸²çš„å®žé™…å­˜å‚¨æ ¼å¼ï¼Œå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦éƒ½æ˜¯é€šè¿‡å…¶åˆå§‹ç å…ƒå…ƒç´ ä½ç½®è¿›è¡Œç¼–å·çš„ï¼Œå°±åƒä½¿ç”¨ UTF-16 è¡¨ç¤ºä¸€æ ·ã€‚

## å…¶ä»–

### è¯†åˆ«ä¸€ä¸ªå­—ç¬¦æ˜¯ç”± 1 ä¸ªå­—èŠ‚è¿˜æ˜¯ 2 ä¸ªå­—èŠ‚ç»„æˆ

```js
function is32Bit(c) {
  return c.codePointAt(0) > 0xffff
}

console.log(is32Bit('ðŸ˜‚')) // true
console.log(is32Bit('a')) // false
```

> ref: https://github.com/qdlaoyao/js-book/blob/master/04.md

> https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Text_formatting
